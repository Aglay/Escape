                   # 1 "cli/allinstr-e.mms"
                   # 1 "<built-in>"
                   # 1 "<command-line>"
                   # 1 "cli/allinstr-e.mms"
                   %
                   % allinstr.mms -- one example of each MMIX instruction
                   %
                   
                     % segmentsizes: 1,0,0,0; pageSize=2^32; r=0x90000; n=0
                     LOC #0
 ...000: 10002000  RV OCTA #1000200000090000
 ...004: 00090000
                   
                     LOC #00090000
0000000000090000:    OCTA #0000000000000007 % PTE 0 (#0000000000000000 .. #00000000FFFFFFFF)
 ...000: 00000000
 ...004: 00000007
                   
                   
                     % forced traps
                     LOC #4000
0000000000004000:  ATRAP SWYM 0,0,0 % RESUME 1 @ sp[rT] means doing an IO-op for MMMIX :D
 ...000: fd000000
 ...004: f9000001    RESUME 1
                   
                   
                     LOC #1000
                     % setup
0000000000001000:  Main SETH $0,#8000
 ...000: e0008000
 ...004: eb000000    ORL $0,RV
 ...008: 8f000000    LDOU $0,$0,0
 ...00c: f6120000    PUT rV,$0
                   
 ...010: e3004000    SET $0,ATRAP
 ...014: e8008000    ORH $0,#8000
 ...018: f60d0000    PUT rT,$0
 ...01c: e3061234    SET $6,#1234
 ...020: e2180000    SETML $24,#0000
 ...024: eb18babe    ORL $24,#BABE
                   
                     % test resume ropcodes
 ...028: f4000008    GETA $0,@+32
 ...02c: f61c0000    PUT rWW,$0
 ...030: e0000000    SETH $0,#0000 % resume again
 ...034: ea008d00    ORML $0,#8D00
 ...038: eb000100    ORL $0,#0100 % LDOI $0,$1,0
 ...03c: f61d0000    PUT rXX,$0
 ...040: e0018000    SETH $1,#8000
 ...044: f9000001    RESUME 1
                   
 ...048: f4000007    GETA $0,@+28
 ...04c: f61c0000    PUT rWW,$0
 ...050: e0000100    SETH $0,#0100 % resume continue
 ...054: ea00c100    ORML $0,#C100
 ...058: eb000000    ORL $0,#0000 % OR $0,$0,0
 ...05c: f61d0000    PUT rXX,$0
 ...060: f9000001    RESUME 1
                   
 ...064: f4000008    GETA $0,@+32
 ...068: f61c0000    PUT rWW,$0
 ...06c: e0000200    SETH $0,#0200 % resume set
 ...070: ea000000    ORML $0,#0000
 ...074: eb000000    ORL $0,#0000 % SET $0,rZZ
 ...078: f61d0000    PUT rXX,$0
 ...07c: f71f0012    PUT rZZ,#12
 ...080: f9000001    RESUME 1
                   
 ...084: f4000008    GETA $0,@+32
 ...088: f61c0000    PUT rWW,$0
 ...08c: e0000300    SETH $0,#0300 % resume trans -> itc
 ...090: ea00fd00    ORML $0,#FD00 % SWYM
 ...094: f61d0000    PUT rXX,$0
 ...098: f71e0000    PUT rYY,0
 ...09c: f71f0000    PUT rZZ,0
 ...0a0: f9000001    RESUME 1
                   
 ...0a4: f4000008    GETA $0,@+32
 ...0a8: f61c0000    PUT rWW,$0
 ...0ac: e0000300    SETH $0,#0300 % resume trans -> dtc
 ...0b0: ea00c100    ORML $0,#C100 % OR $0,$0,0
 ...0b4: f61d0000    PUT rXX,$0
 ...0b8: f71e0000    PUT rYY,0
 ...0bc: f71f0000    PUT rZZ,0
 ...0c0: f9000001    RESUME 1
                   
                     % remove tc-entrys
 ...0c4: e3000000    SET $0,0
 ...0c8: 99000000    LDVTS $0,$0,0
                   
                     % 0x00
 ...0cc: 000b0618    TRAP 11,6,24
 ...0d0: 010b0618    FCMP $11,$6,$24
 ...0d4: 020b0618    FUN $11,$6,$24
 ...0d8: 030b0618    FEQL $11,$6,$24
 ...0dc: 040b0618    FADD $11,$6,$24
 ...0e0: 050b0118    FIX $11,ROUND_OFF,$24
 ...0e4: 060b0618    FSUB $11,$6,$24
 ...0e8: 070b0418    FIXU $11,ROUND_NEAR,$24
 ...0ec: 080b0218    FLOT $11,ROUND_UP,$24
 ...0f0: 090b0318    FLOT $11,ROUND_DOWN,24
 ...0f4: 0a0b0118    FLOTU $11,ROUND_OFF,$24
 ...0f8: 0b0b0418    FLOTU $11,ROUND_NEAR,24
 ...0fc: 0c0b0218    SFLOT $11,ROUND_UP,$24
 ...100: 0d0b0318    SFLOT $11,ROUND_DOWN,24
 ...104: 0e0b0118    SFLOTU $11,ROUND_OFF,$24
 ...108: 0f0b0418    SFLOTU $11,ROUND_NEAR,24
                   
                     % 0x10
 ...10c: 100b0618    FMUL $11,$6,$24
 ...110: 110b0618    FCMPE $11,$6,$24
 ...114: 120b0618    FUNE $11,$6,$24
 ...118: 130b0618    FEQLE $11,$6,$24
 ...11c: 140b0618    FDIV $11,$6,$24
 ...120: 150b0218    FSQRT $11,ROUND_UP,$24
 ...124: 160b0618    FREM $11,$6,$24
 ...128: 170b0318    FINT $11,ROUND_DOWN,$24
 ...12c: 180b0618    MUL $11,$6,$24
 ...130: 190b0618    MUL $11,$6,24
 ...134: 1a0b0618    MULU $11,$6,$24
 ...138: 1b0b0618    MULU $11,$6,24
 ...13c: 1c0b0618    DIV $11,$6,$24
 ...140: 1d0b0618    DIV $11,$6,24
 ...144: 1e0b0618    DIVU $11,$6,$24
 ...148: 1f0b0618    DIVU $11,$6,24
                   
                     % 0x20
 ...14c: 200b0618    ADD $11,$6,$24
 ...150: 210b0618    ADD $11,$6,24
 ...154: 220b0618    ADDU $11,$6,$24
 ...158: 230b0618    ADDU $11,$6,24
 ...15c: 240b0618    SUB $11,$6,$24
 ...160: 250b0618    SUB $11,$6,24
 ...164: 260b0618    SUBU $11,$6,$24
 ...168: 270b0618    SUBU $11,$6,24
 ...16c: 280b0618    2ADDU $11,$6,$24
 ...170: 290b0618    2ADDU $11,$6,24
 ...174: 2a0b0618    4ADDU $11,$6,$24
 ...178: 2b0b0618    4ADDU $11,$6,24
 ...17c: 2c0b0618    8ADDU $11,$6,$24
 ...180: 2d0b0618    8ADDU $11,$6,24
 ...184: 2e0b0618    16ADDU $11,$6,$24
 ...188: 2f0b0618    16ADDU $11,$6,24
                   
                     % 0x30
 ...18c: 300b0618    CMP $11,$6,$24
 ...190: 310b0618    CMP $11,$6,24
 ...194: 320b0618    CMPU $11,$6,$24
 ...198: 330b0618    CMPU $11,$6,24
 ...19c: 340b0618    NEG $11,6,$24
 ...1a0: 350b0618    NEG $11,6,24
 ...1a4: 360b0618    NEGU $11,6,$24
 ...1a8: 370b0618    NEGU $11,6,24
 ...1ac: 380b0618    SL $11,$6,$24
 ...1b0: 390b0618    SL $11,$6,24
 ...1b4: 3a0b0618    SLU $11,$6,$24
 ...1b8: 3b0b0618    SLU $11,$6,24
 ...1bc: 3c0b0618    SR $11,$6,$24
 ...1c0: 3d0b0618    SR $11,$6,24
 ...1c4: 3e0b0618    SRU $11,$6,$24
 ...1c8: 3f0b0618    SRU $11,$6,24
                   
                     % 0x40
 ...1cc: f0xxxxxx    JMP 4F
 ...1d0: f0xxxxxx  1H JMP 3F
 ...1d4: 400bxxxx  4H BN $11,2F
 ...1d8: 410bfffe  2H BN $11,1B
 ...1dc: fd000000  3H SWYM 0,0,0
                   
 ...1e0: f0xxxxxx    JMP 4F
 ...1e4: f0xxxxxx  1H JMP 3F
 ...1e8: 420bxxxx  4H BZ $11,2F
 ...1ec: 430bfffe  2H BZ $11,1B
 ...1f0: fd000000  3H SWYM 0,0,0
                   
 ...1f4: f0xxxxxx    JMP 4F
 ...1f8: f0xxxxxx  1H JMP 3F
 ...1fc: 440bxxxx  4H BP $11,2F
 ...200: 450bfffe  2H BP $11,1B
 ...204: fd000000  3H SWYM 0,0,0
                   
 ...208: f0xxxxxx    JMP 4F
 ...20c: f0xxxxxx  1H JMP 3F
 ...210: 460bxxxx  4H BOD $11,2F
 ...214: 470bfffe  2H BOD $11,1B
 ...218: fd000000  3H SWYM 0,0,0
                   
 ...21c: f0xxxxxx    JMP 4F
 ...220: f0xxxxxx  1H JMP 3F
 ...224: 480bxxxx  4H BNN $11,2F
 ...228: 490bfffe  2H BNN $11,1B
 ...22c: fd000000  3H SWYM 0,0,0
                   
 ...230: f0xxxxxx    JMP 4F
 ...234: f0xxxxxx  1H JMP 3F
 ...238: 4a0bxxxx  4H BNZ $11,2F
 ...23c: 4b0bfffe  2H BNZ $11,1B
 ...240: fd000000  3H SWYM 0,0,0
                   
 ...244: f0xxxxxx    JMP 4F
 ...248: f0xxxxxx  1H JMP 3F
 ...24c: 4c0bxxxx  4H BNP $11,2F
 ...250: 4d0bfffe  2H BNP $11,1B
 ...254: fd000000  3H SWYM 0,0,0
                   
 ...258: f0xxxxxx    JMP 4F
 ...25c: f0xxxxxx  1H JMP 3F
 ...260: 4e0bxxxx  4H BEV $11,2F
 ...264: 4f0bfffe  2H BEV $11,1B
 ...268: fd000000  3H SWYM 0,0,0
                   
                   
                     % 0x50
 ...26c: f0xxxxxx    JMP 4F
 ...270: f0xxxxxx  1H JMP 3F
 ...274: 500bxxxx  4H PBN $11,2F
 ...278: 510bfffe  2H PBN $11,1B
 ...27c: fd000000  3H SWYM 0,0,0
                   
 ...280: f0xxxxxx    JMP 4F
 ...284: f0xxxxxx  1H JMP 3F
 ...288: 520bxxxx  4H PBZ $11,2F
 ...28c: 530bfffe  2H PBZ $11,1B
 ...290: fd000000  3H SWYM 0,0,0
                   
 ...294: f0xxxxxx    JMP 4F
 ...298: f0xxxxxx  1H JMP 3F
 ...29c: 540bxxxx  4H PBP $11,2F
 ...2a0: 550bfffe  2H PBP $11,1B
 ...2a4: fd000000  3H SWYM 0,0,0
                   
 ...2a8: f0xxxxxx    JMP 4F
 ...2ac: f0xxxxxx  1H JMP 3F
 ...2b0: 560bxxxx  4H PBOD $11,2F
 ...2b4: 570bfffe  2H PBOD $11,1B
 ...2b8: fd000000  3H SWYM 0,0,0
                   
 ...2bc: f0xxxxxx    JMP 4F
 ...2c0: f0xxxxxx  1H JMP 3F
 ...2c4: 580bxxxx  4H PBNN $11,2F
 ...2c8: 590bfffe  2H PBNN $11,1B
 ...2cc: fd000000  3H SWYM 0,0,0
                   
 ...2d0: f0xxxxxx    JMP 4F
 ...2d4: f0xxxxxx  1H JMP 3F
 ...2d8: 5a0bxxxx  4H PBNZ $11,2F
 ...2dc: 5b0bfffe  2H PBNZ $11,1B
 ...2e0: fd000000  3H SWYM 0,0,0
                   
 ...2e4: f0xxxxxx    JMP 4F
 ...2e8: f0xxxxxx  1H JMP 3F
 ...2ec: 5c0bxxxx  4H PBNP $11,2F
 ...2f0: 5d0bfffe  2H PBNP $11,1B
 ...2f4: fd000000  3H SWYM 0,0,0
                   
 ...2f8: f0xxxxxx    JMP 4F
 ...2fc: f0xxxxxx  1H JMP 3F
 ...300: 5e0bxxxx  4H PBEV $11,2F
 ...304: 5f0bfffe  2H PBEV $11,1B
 ...308: fd000000  3H SWYM 0,0,0
                   
                     % 0x60
 ...30c: 600b0618    CSN $11,$6,$24
 ...310: 610b0618    CSN $11,$6,24
 ...314: 620b0618    CSZ $11,$6,$24
 ...318: 630b0618    CSZ $11,$6,24
 ...31c: 640b0618    CSP $11,$6,$24
 ...320: 650b0618    CSP $11,$6,24
 ...324: 660b0618    CSOD $11,$6,$24
 ...328: 670b0618    CSOD $11,$6,24
 ...32c: 680b0618    CSNN $11,$6,$24
 ...330: 690b0618    CSNN $11,$6,24
 ...334: 6a0b0618    CSNZ $11,$6,$24
 ...338: 6b0b0618    CSNZ $11,$6,24
 ...33c: 6c0b0618    CSNP $11,$6,$24
 ...340: 6d0b0618    CSNP $11,$6,24
 ...344: 6e0b0618    CSEV $11,$6,$24
 ...348: 6f0b0618    CSEV $11,$6,24
                   
                     % 0x70
 ...34c: 700b0618    ZSN $11,$6,$24
 ...350: 710b0618    ZSN $11,$6,24
 ...354: 720b0618    ZSZ $11,$6,$24
 ...358: 730b0618    ZSZ $11,$6,24
 ...35c: 740b0618    ZSP $11,$6,$24
 ...360: 750b0618    ZSP $11,$6,24
 ...364: 760b0618    ZSOD $11,$6,$24
 ...368: 770b0618    ZSOD $11,$6,24
 ...36c: 780b0618    ZSNN $11,$6,$24
 ...370: 790b0618    ZSNN $11,$6,24
 ...374: 7a0b0618    ZSNZ $11,$6,$24
 ...378: 7b0b0618    ZSNZ $11,$6,24
 ...37c: 7c0b0618    ZSNP $11,$6,$24
 ...380: 7d0b0618    ZSNP $11,$6,24
 ...384: 7e0b0618    ZSEV $11,$6,$24
 ...388: 7f0b0618    ZSEV $11,$6,24
                   
                     % 0x80
 ...38c: 800b0618    LDB $11,$6,$24
 ...390: 810b0618    LDB $11,$6,24
 ...394: 820b0618    LDBU $11,$6,$24
 ...398: 830b0618    LDBU $11,$6,24
 ...39c: 840b0618    LDW $11,$6,$24
 ...3a0: 850b0618    LDW $11,$6,24
 ...3a4: 860b0618    LDWU $11,$6,$24
 ...3a8: 870b0618    LDWU $11,$6,24
 ...3ac: 880b0618    LDT $11,$6,$24
 ...3b0: 890b0618    LDT $11,$6,24
 ...3b4: 8a0b0618    LDTU $11,$6,$24
 ...3b8: 8b0b0618    LDTU $11,$6,24
 ...3bc: 8c0b0618    LDO $11,$6,$24
 ...3c0: 8d0b0618    LDO $11,$6,24
 ...3c4: 8e0b0618    LDOU $11,$6,$24
 ...3c8: 8f0b0618    LDOU $11,$6,24
                   
                     % 0x90
 ...3cc: 900b0618    LDSF $11,$6,$24
 ...3d0: 910b0618    LDSF $11,$6,24
 ...3d4: 920b0618    LDHT $11,$6,$24
 ...3d8: 930b0618    LDHT $11,$6,24
 ...3dc: 940b0618    CSWAP $11,$6,$24
 ...3e0: 950b0618    CSWAP $11,$6,24
 ...3e4: 960b0618    LDUNC $11,$6,$24
 ...3e8: 970b0618    LDUNC $11,$6,24
 ...3ec: 980b0618    LDVTS $11,$6,$24
 ...3f0: 990b0618    LDVTS $11,$6,24
 ...3f4: 9a0b0618    PRELD 11,$6,$24
 ...3f8: 9b0b0618    PRELD 11,$6,24
 ...3fc: 9c0b0618    PREGO 11,$6,$24
 ...400: 9d0b0618    PREGO 11,$6,24
 ...404: f401xxxx    GETA $1,1F
 ...408: 9e0b0102    GO $11,$1,$2
 ...40c: f401xxxx  1H GETA $1,1F
 ...410: 9f0b0100    GO $11,$1,0
                   
                     % 0xA0
 ...414: a00b0618  1H STB $11,$6,$24
 ...418: a10b0618    STB $11,$6,24
 ...41c: a20b0618    STBU $11,$6,$24
 ...420: a30b0618    STBU $11,$6,24
 ...424: a40b0618    STW $11,$6,$24
 ...428: a50b0618    STW $11,$6,24
 ...42c: a60b0618    STWU $11,$6,$24
 ...430: a70b0618    STWU $11,$6,24
 ...434: a80b0618    STT $11,$6,$24
 ...438: a90b0618    STT $11,$6,24
 ...43c: aa0b0618    STTU $11,$6,$24
 ...440: ab0b0618    STTU $11,$6,24
 ...444: ac0b0618    STO $11,$6,$24
 ...448: ad0b0618    STO $11,$6,24
 ...44c: ae0b0618    STOU $11,$6,$24
 ...450: af0b0618    STOU $11,$6,24
                   
                     % 0xB0
 ...454: b00b0618    STSF $11,$6,$24
 ...458: b10b0618    STSF $11,$6,24
 ...45c: b20b0618    STHT $11,$6,$24
 ...460: b30b0618    STHT $11,$6,24
 ...464: b40b0618    STCO 11,$6,$24
 ...468: b50b0618    STCO 11,$6,24
 ...46c: b60b0618    STUNC $11,$6,$24
 ...470: b70b0618    STUNC $11,$6,24
 ...474: b80b0618    SYNCD 11,$6,$24
 ...478: b90b0618    SYNCD 11,$6,24
 ...47c: ba0b0618    PREST 11,$6,$24
 ...480: bb0b0618    PREST 11,$6,24
 ...484: bc0b0618    SYNCID 11,$6,$24
 ...488: bd0b0618    SYNCID 11,$6,24
 ...48c: f401xxxx    GETA $1,1F
 ...490: be0b0102    PUSHGO $11,$1,$2
 ...494: bf0b0100    PUSHGO $11,$1,0
 ...498: f0xxxxxx    JMP 2F
                   
 ...49c: f8000000  1H POP 0,0
                   
                     % 0xC0
 ...4a0: c00b0618  2H OR $11,$6,$24
 ...4a4: c10b0618    OR $11,$6,24
 ...4a8: c20b0618    ORN $11,$6,$24
 ...4ac: c30b0618    ORN $11,$6,24
 ...4b0: c40b0618    NOR $11,$6,$24
 ...4b4: c50b0618    NOR $11,$6,24
 ...4b8: c60b0618    XOR $11,$6,$24
 ...4bc: c70b0618    XOR $11,$6,24
 ...4c0: c80b0618    AND $11,$6,$24
 ...4c4: c90b0618    AND $11,$6,24
 ...4c8: ca0b0618    ANDN $11,$6,$24
 ...4cc: cb0b0618    ANDN $11,$6,24
 ...4d0: cc0b0618    NAND $11,$6,$24
 ...4d4: cd0b0618    NAND $11,$6,24
 ...4d8: ce0b0618    NXOR $11,$6,$24
 ...4dc: cf0b0618    NXOR $11,$6,24
                   
                     % 0xD0
 ...4e0: d00b0618    BDIF $11,$6,$24
 ...4e4: d10b0618    BDIF $11,$6,24
 ...4e8: d40b0618    TDIF $11,$6,$24
 ...4ec: d50b0618    TDIF $11,$6,24
 ...4f0: d20b0618    WDIF $11,$6,$24
 ...4f4: d30b0618    WDIF $11,$6,24
 ...4f8: d60b0618    ODIF $11,$6,$24
 ...4fc: d70b0618    ODIF $11,$6,24
 ...500: d80b0618    MUX $11,$6,$24
 ...504: d90b0618    MUX $11,$6,24
 ...508: da0b0618    SADD $11,$6,$24
 ...50c: db0b0618    SADD $11,$6,24
 ...510: dc0b0618    MOR $11,$6,$24
 ...514: dd0b0618    MOR $11,$6,24
 ...518: de0b0618    MXOR $11,$6,$24
 ...51c: df0b0618    MXOR $11,$6,24
                   
                     % 0xE0
 ...520: e00ba3be    SETH $11,#A3BE
 ...524: e10ba3be    SETMH $11,#A3BE
 ...528: e20ba3be    SETML $11,#A3BE
 ...52c: e30ba3be    SETL $11,#A3BE
 ...530: e40ba3be    INCH $11,#A3BE
 ...534: e50ba3be    INCMH $11,#A3BE
 ...538: e60ba3be    INCML $11,#A3BE
 ...53c: e70ba3be    INCL $11,#A3BE
 ...540: e80ba3be    ORH $11,#A3BE
 ...544: e90ba3be    ORMH $11,#A3BE
 ...548: ea0ba3be    ORML $11,#A3BE
 ...54c: eb0ba3be    ORL $11,#A3BE
 ...550: ec0ba3be    ANDNH $11,#A3BE
 ...554: ed0ba3be    ANDNMH $11,#A3BE
 ...558: ee0ba3be    ANDNML $11,#A3BE
 ...55c: ef0ba3be    ANDNL $11,#A3BE
                   
                     % 0xF0
 ...560: f0xxxxxx    JMP 2F
 ...564: f0xxxxxx  1H JMP 3F
 ...568: f0xxxxxx    JMP 2F
 ...56c: f1fffffe  2H JMP 1B
 ...570: f20bxxxx  3H PUSHJ $11,1F
 ...574: f0xxxxxx    JMP 2F
 ...578: f8000000  1H POP 0,0
 ...57c: f30bffff  2H PUSHJ $11,1B
 ...580: f40bxxxx  1H GETA $11,2F
 ...584: f50bffff  2H GETA $11,1B
 ...588: f617000b    PUT rP,$11
 ...58c: f717000b    PUT rP,11
 ...590: faff0000    SAVE $255,0
 ...594: fb0000ff    UNSAVE 0,$255
 ...598: fc000000    SYNC 0
 ...59c: fd0b0618    SWYM 11,6,24
 ...5a0: fe0b0012    GET $11,rV
 ...5a4: ff0b0618    TRIP 11,6,24
                   
                     % halt cpu
 ...5a8: 00000000    TRAP 0

Symbol table:
 ATRAP = #0000000000004000 (3)
 Main = #0000000000001000 (1)
 RV = #0000000000000000 (2)
