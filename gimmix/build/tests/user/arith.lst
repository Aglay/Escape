                   # 1 "user/arith.mms"
                   # 1 "<built-in>"
                   # 1 "<command-line>"
                   # 1 "user/arith.mms"
                   %
                   % arith.mms -- tests basic arithmetic-instructions
                   %
                     LOC #1000
                   
0000000000001000:  Main NOR $2,$2,$2 % = -1
 ...000: c4020202
 ...004: c4030303    NOR $3,$3,$3
 ...008: ef030001    ANDNL $3,#0001 % = -2
 ...00c: c4040404    NOR $4,$4,$4
 ...010: ef040002    ANDNL $4,#0002 % = -3
 ...014: c4050505    NOR $5,$5,$5
 ...018: ef050007    ANDNL $5,#0007 % = -8
 ...01c: e3060000    SET $6,0
 ...020: e3070001    SET $7,1
 ...024: e3080002    SET $8,2
 ...028: e3090005    SET $9,5
                   
                     % test add(i)
 ...02c: 200a0606    ADD $10,$6,$6 % 0 + 0
 ...030: 200b0709    ADD $11,$7,$9 % 1 + 5
 ...034: 210c0600    ADD $12,$6,0 % 0 + 0
 ...038: 210d0902    ADD $13,$9,2 % 5 + 2
                   
 ...03c: 200e0208    ADD $14,$2,$8 % -1 + 2
 ...040: 200f0302    ADD $15,$3,$2 % -2 + -1
 ...044: 211004ff    ADD $16,$4,#FF % -3 + #FF ; note: -1 is treated unsigned!
 ...048: 20110509    ADD $17,$5,$9 % -8 + 5
                   
                     % test addu(i)
 ...04c: 22120606    ADDU $18,$6,$6 % 0 + 0
 ...050: 22130709    ADDU $19,$7,$9 % 1 + 5
 ...054: 23140600    ADDU $20,$6,0 % 0 + 0
 ...058: 23150902    ADDU $21,$9,2 % 5 + 2
                   
 ...05c: 22160208    ADDU $22,$2,$8 % FF..FF + 2
 ...060: 22170302    ADDU $23,$3,$2 % FF..FE + FF..FF
 ...064: 231804ff    ADDU $24,$4,#FF % FF..FD + FF
 ...068: 22190509    ADDU $25,$5,$9 % FF..F8 + 5
                   
                     % test sub(i)
 ...06c: 241a0606    SUB $26,$6,$6 % 0 - 0
 ...070: 241b0907    SUB $27,$9,$7 % 5 - 1
 ...074: 251c0600    SUB $28,$6,0 % 0 - 0
 ...078: 251d0902    SUB $29,$9,2 % 5 - 2
                   
 ...07c: 241e0208    SUB $30,$2,$8 % -1 - 2
 ...080: 241f0302    SUB $31,$3,$2 % -2 - -1
 ...084: 252004ff    SUB $32,$4,#FF % -3 - #FF ; note: -1 is treated unsigned!
 ...088: 24210509    SUB $33,$5,$9 % -8 - 5
                   
                     % test subu(i)
 ...08c: 26220606    SUBU $34,$6,$6 % 0 - 0
 ...090: 26230709    SUBU $35,$7,$9 % 1 - 5
 ...094: 27240600    SUBU $36,$6,0 % 0 - 0
 ...098: 27250902    SUBU $37,$9,2 % 5 - 2
                   
 ...09c: 26260208    SUBU $38,$2,$8 % FF..FF - 2
 ...0a0: 26270302    SUBU $39,$3,$2 % FF..FE - FF..FF
 ...0a4: 272804ff    SUBU $40,$4,#FF % FF..FD - FF
 ...0a8: 26290509    SUBU $41,$5,$9 % FF..F8 - 5
                   
                     % test 2addu(i)
 ...0ac: 282a0606    2ADDU $42,$6,$6 % 2*0 + 0
 ...0b0: 282b0709    2ADDU $43,$7,$9 % 2*1 + 5
 ...0b4: 292c0600    2ADDU $44,$6,0 % 2*0 + 0
 ...0b8: 292d0902    2ADDU $45,$9,2 % 2*5 + 2
                   
 ...0bc: 282e0208    2ADDU $46,$2,$8 % 2 * FF..FF + 2 = 1.FFFF.FFFF.FFFF.FFFE + 2 = 2.0000.0000.0000.0000 = 0
 ...0c0: 282f0302    2ADDU $47,$3,$2 % 2 * FF..FE + FF..FF
 ...0c4: 293004ff    2ADDU $48,$4,#FF % 2 * FF..FD + FF
 ...0c8: 28310509    2ADDU $49,$5,$9 % 2 * FF..F8 + 5
                   
                     % test 4addu(i)
 ...0cc: 2a320606    4ADDU $50,$6,$6 % 4*0 + 0
 ...0d0: 2a330709    4ADDU $51,$7,$9 % 4*1 + 5
 ...0d4: 2b340600    4ADDU $52,$6,0 % 4*0 + 0
 ...0d8: 2b350902    4ADDU $53,$9,2 % 4*5 + 2
                   
 ...0dc: 2a360208    4ADDU $54,$2,$8 % 4 * FF..FF + 2 = 3.FFFF.FFFF.FFFF.FFFC + 2 = 3.FFFF.FFFF.FFFF.FFFE
 ...0e0: 2a370302    4ADDU $55,$3,$2 % 4 * FF..FE + FF..FF
 ...0e4: 2b3804ff    4ADDU $56,$4,#FF % 4 * FF..FD + FF
 ...0e8: 2a390509    4ADDU $57,$5,$9 % 4 * FF..F8 + 5
                   
                     % test 8addu(i)
 ...0ec: 2c3a0606    8ADDU $58,$6,$6 % 8*0 + 0
 ...0f0: 2c3b0709    8ADDU $59,$7,$9 % 8*1 + 5
 ...0f4: 2d3c0600    8ADDU $60,$6,0 % 8*0 + 0
 ...0f8: 2d3d0902    8ADDU $61,$9,2 % 8*5 + 2
                   
 ...0fc: 2c3e0208    8ADDU $62,$2,$8 % 8 * FF..FF + 2 = 7.FFFF.FFFF.FFFF.FFF8 + 2 = 7.FFFF.FFFF.FFFF.FFFA
 ...100: 2c3f0302    8ADDU $63,$3,$2 % 8 * FF..FE + FF..FF
 ...104: 2d4004ff    8ADDU $64,$4,#FF % 8 * FF..FD + FF
 ...108: 2c410509    8ADDU $65,$5,$9 % 8 * FF..F8 + 5
                   
                     % test 16addu(i)
 ...10c: 2e420606    16ADDU $66,$6,$6 % 16*0 + 0
 ...110: 2e430709    16ADDU $67,$7,$9 % 16*1 + 5
 ...114: 2f440600    16ADDU $68,$6,0 % 16*0 + 0
 ...118: 2f450902    16ADDU $69,$9,2 % 16*5 + 2
                   
 ...11c: 2e460208    16ADDU $70,$2,$8 % 16 * FF..FF + 2 = F.FFFF.FFFF.FFFF.FFF0 + 2 = F.FFFF.FFFF.FFFF.FFF2
 ...120: 2e470302    16ADDU $71,$3,$2 % 16 * FF..FE + FF..FF
 ...124: 2f4804ff    16ADDU $72,$4,#FF % 16 * FF..FD + FF
 ...128: 2e490509    16ADDU $73,$5,$9 % 16 * FF..F8 + 5
                   
                     % overflow preparations
 ...12c: c44a4a4a    NOR $74,$74,$74 % $74 = FF..FF
 ...130: e04b8000    SETH $75,#8000
 ...134: ca4a4a4b    ANDN $74,$74,$75 % $74 = 7F..FF (= 2^63 - 1)
 ...138: fe4c0015    GET $76,rA % ensure that there was no arith-exception yet
                   
                     % test add(i) overflow
 ...13c: 21504a01    ADD $80,$74,1 % 7F..FF + 1 -> ex
 ...140: fe510015    GET $81,rA
 ...144: f6150006    PUT rA,$6 % clear rA
                   
 ...148: 20524a4a    ADD $82,$74,$74 % 7F..FF + 7F..FF -> ex
 ...14c: fe530015    GET $83,rA
 ...150: f6150006    PUT rA,$6 % clear rA
                   
 ...154: 20540202    ADD $84,$2,$2 % -1 + -1 -> NO ex
 ...158: fe550015    GET $85,rA
 ...15c: f6150006    PUT rA,$6 % clear rA
                   
 ...160: 21560202    ADD $86,$2,2 % -1 + 2 -> NO ex
 ...164: fe570015    GET $87,rA
 ...168: f6150006    PUT rA,$6 % clear rA
                   
                     % test sub(i) overflow
                   
 ...16c: 25584b01    SUB $88,$75,1 % 80..00 - 1 -> ex
 ...170: fe590015    GET $89,rA
 ...174: f6150006    PUT rA,$6 % clear rA
                   
 ...178: 245a4b4b    SUB $90,$75,$75 % 80..00 - 80..00 -> NO ex
 ...17c: fe5b0015    GET $91,rA
 ...180: f6150006    PUT rA,$6 % clear rA
                   
 ...184: 245c0202    SUB $92,$2,$2 % -1 - -1 -> NO ex
 ...188: fe5d0015    GET $93,rA
 ...18c: f6150006    PUT rA,$6 % clear rA
                   
 ...190: 255e0202    SUB $94,$2,2 % -1 - 2 -> NO ex
 ...194: fe5f0015    GET $95,rA
 ...198: f6150006    PUT rA,$6 % clear rA
                   
 ...19c: 24604b4a    SUB $96,$75,$74 % 80..00 - 7F..FF -> ex
 ...1a0: fe610015    GET $97,rA
 ...1a4: f6150006    PUT rA,$6 % clear rA
                   
 ...1a8: 00000000    TRAP 0

Symbol table:
 Main = #0000000000001000 (1)
